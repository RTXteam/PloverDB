# rotate uwsgi and nginx logs daily, keep 3 days.
# maxsize triggers rotation mid-day if a log grows too fast under heavy traffic.
# copytruncate avoids reopening file descriptors in uwsgi/nginx.
# the watchdog in start.sh calls logrotate every 30s, so checks are frequent.

/var/log/uwsgi.log {
    daily
    rotate 3
    missingok
    notifempty
    compress
    copytruncate
    maxsize 50M
}

/var/log/nginx/*.log {
    daily
    rotate 3
    missingok
    notifempty
    compress
    copytruncate
    maxsize 25M
}
